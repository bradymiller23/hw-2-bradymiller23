group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
gather(cols, value) %>%
ggplot() +
geom_bar(aes(value)) +
facet_wrap(~ cols, scales = 'free')
data.cor
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(~sex,
names_to = 'Col names'
values_to = 'Means')
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(~sex,
names_to = 'Col names',
values_to = 'Means')
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(!sex,
names_to = 'Col names',
values_to = 'Means')
df %>%
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(!sex,
names_to = 'Col names',
values_to = 'Means')
#library(corrplot)
# selecting all columns in table except for the sex column
df2 <- df %>%
select(length, diameter, height, whole_weight, shucked_weight, viscera_weight, shell_weight, rings)
# getting all the correlation values for each pair of quantitative variables & displaying that table
data.cor <- round(cor(df2),2)
data.cor
# creating a shaded plot that shows the correlation between each quantitative variable
# corrplot(data.cor, method = 'shade', is.corr = FALSE, col.lim = c(0,1), title = 'Pairwise Correlation Table of Quantitative Variables')
df2 <- df %>%
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(!sex,
names_to = 'Vars',
values_to = 'Means')
df2 %>%
ggplot() +
geom_bar(aes(x = Vars, y = Means, fill = sex), stat = 'identity')
df2 %>%
ggplot() +
geom_bar(aes(x = Vars, y = Means, fill = sex), stat = 'identity') +
facet_wrap(~Vars)
df2 %>%
ggplot() +
geom_bar(aes(x = Vars, y = Means, fill = sex), stat = 'identity') +
facet_wrap(~Vars, scales = 'free')
df2 %>%
ggplot() +
geom_bar(aes(x = Vars, y = Means, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'v')
df2 %>%
ggplot() +
geom_bar(aes(x = Vars, y = Means, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'h')
df2 %>%
ggplot() +
geom_bar(aes(x = Vars, y = Means, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'v')
df2 %>%
ggplot() +
geom_bar(aes(x = Means, y = Vars, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'v')
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex))+ ylab(.x))
plot
cowplot::plot_grid(plot, colnames = dfquant, col = 1)
cowplot::plot_grid(plot, colnames = colnames(dfquant), col = 1)
?plot_grid()
cowplot::plot_grid(plot, labels = colnames(dfquant), ncol = 3, label_size = 5)
cowplot::plot_grid(plot, labels = colnames(dfquant), ncol = 3)
plot
cowplot::plot_grid(plot, labels = colnames(dfquant), ncol = 3)
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
library(readr)
library(tidyr)
library(ggplot2)
library(dplyr)
library(purrr)
library(cowplot)
library(readr)
url <- "http://archive.ics.uci.edu/ml/machine-learning-databases/abalone/abalone.data"
abalone_col_names <- c(
"sex",
"length",
"diameter",
"height",
"whole_weight",
"shucked_weight",
"viscera_weight",
"shell_weight",
"rings"
)
# reading in the url to create 'abalone' tibble
abalone <- read.csv(url)
# renaming columns in 'abalone' to col names provided
colnames(abalone) = abalone_col_names
df <- abalone %>%
na.omit()
df %>%
select(!sex) %>%
gather(cols, value) %>%
ggplot() +
geom_histogram(aes(value)) +
facet_wrap(~ cols, scales = 'free')
df %>%
ggplot() +
geom_point(aes(x = length, y = diameter, shape = sex, color = sex, size = shell_weight))
df %>%
ggplot() +
geom_point(aes(x = length, y = diameter, shape = sex, color = sex, size = shell_weight)) +
labs(size = "shell weight")
df2 <- df %>%
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(names_to = 'Vars',
values_to = 'Means')
df2 <- df %>%
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(!sex,
names_to = 'Vars',
values_to = 'Means')
df2 %>%
ggplot() +
geom_bar(aes(x = Means, y = Vars, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'v')
df2 %>%
ggplot() +
geom_bar(aes(x = Means, y = Vars, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'v') +
ylab("Variables")
df %>%
mutate(num_rings = ifelse(rings>20, 'high', ifelse(rings<10, 'low', 'med'))) %>%
group_by(num_rings, sex) %>%
summarise(avg_weight = mean(whole_weight + shucked_weight + viscera_weight + shell_weight)) %>%
ggplot() +
geom_tile(aes(x = num_rings, y = sex, fill = avg_weight)) +
xlab("Number of rings") +
labs(fill = 'Average Weight') +
ggtitle('Number of Rings vs Sex')
# selecting all columns in table except for the sex column
df2 <- df %>%
select(length, diameter, height, whole_weight, shucked_weight, viscera_weight, shell_weight, rings)
# getting all the correlation values for each pair of quantitative variables & displaying that table
data.cor <- round(cor(df2),2)
data.cor
# creating a shaded plot that shows the correlation between each quantitative variable
# corrplot(data.cor, method = 'shade', is.corr = FALSE, col.lim = c(0,1), title = 'Pairwise Correlation Table of Quantitative Variables')
?map2()
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex)) + ylab(.x))
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex)) + ylab(.x) + ggtitle(.y))
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex)) + ggtitle(.y))
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3, cex = 0.8)
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex) + ggtitle(.y) + ylab(' '))
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
x <- df$diameter
y <- df$height
model <- lm(y ~ x, df)
summary(model)
x <- df$diameter
y <- df$height
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey')
lines(x, fitted(lm(y ~x), color = 'red'))
x <- df$diameter
y <- df$height
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey')
lines(x, fitted(lm(y ~x), col = 'red'))
new_diameters <- c(
0.15218946,
0.48361548,
0.58095513,
0.07603687,
0.50234599,
0.83462092,
0.95681938,
0.92906875,
0.94245437,
0.01209518
)
new_x <- data.frame(x = new_diameters)
new_height <- predict(model, new_x)
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey', xlim = c(0,1))
lines(x, fitted(lm(y~x), color = 'red'), xlim = c(0,1))
points(new_diameters %>% unlist(), new_height, col = 'violet', pch = 19)
new_diameters <- c(
0.15218946,
0.48361548,
0.58095513,
0.07603687,
0.50234599,
0.83462092,
0.95681938,
0.92906875,
0.94245437,
0.01209518
)
new_x <- data.frame(x = new_diameters)
new_height <- predict(model, new_x)
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey', xlim = c(0,1))
lines(x, fitted(lm(y~x), color = 'red'), fullrange = TRUE)
points(new_diameters %>% unlist(), new_height, col = 'violet', pch = 19)
new_diameters <- c(
0.15218946,
0.48361548,
0.58095513,
0.07603687,
0.50234599,
0.83462092,
0.95681938,
0.92906875,
0.94245437,
0.01209518
)
new_x <- data.frame(x = new_diameters)
new_height <- predict(model, new_x)
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey', xlim = c(0,1))
lines(x, lm(y~x, color = 'red'))
new_diameters <- c(
0.15218946,
0.48361548,
0.58095513,
0.07603687,
0.50234599,
0.83462092,
0.95681938,
0.92906875,
0.94245437,
0.01209518
)
new_x <- data.frame(x = new_diameters)
new_height <- predict(model, new_x)
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey', xlim = c(0,1))
lines(x, fitted(lm(y~x), color = 'red'))
points(new_diameters %>% unlist(), new_height, col = 'violet', pch = 19)
x <- df$diameter
y <- df$height
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey')
lines(x, fitted(lm(y ~x), col = 'green'))
x <- df$diameter
y <- df$height
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey')
line(x, fitted(lm(y ~x), col = 'green'))
x <- df$diameter
y <- df$height
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey')
lines(x, fitted(lm(y ~x), col = 'red'))
library(readr)
library(tidyr)
library(ggplot2)
library(dplyr)
library(purrr)
library(cowplot)
library(readr)
url <- "http://archive.ics.uci.edu/ml/machine-learning-databases/abalone/abalone.data"
abalone_col_names <- c(
"sex",
"length",
"diameter",
"height",
"whole_weight",
"shucked_weight",
"viscera_weight",
"shell_weight",
"rings"
)
# reading in the url to create 'abalone' tibble
abalone <- read.csv(url)
# renaming columns in 'abalone' to col names provided
colnames(abalone) = abalone_col_names
df <- abalone %>%
na.omit()
# selecting all but sex, putting the variables into a column and the values into a column and then plotting
df %>%
select(!sex) %>%
gather(cols, value) %>%
ggplot() +
geom_histogram(aes(value)) +
facet_wrap(~ cols, scales = 'free')
df %>%
ggplot() +
geom_boxplot(aes(x = length, y = sex))
df %>%
ggplot() +
geom_violin(aes(x = diameter, y = sex))
df %>%
ggplot() +
geom_point(aes(x = length, y = diameter, shape = sex, color = sex, size = shell_weight)) +
labs(size = "shell weight")
df %>%
ggplot() +
geom_point(aes(x = length, y = diameter, color = sex)) +
geom_smooth(aes(x = length, y = diameter), method = lm, color = 'black') +
facet_wrap(~sex, nrow = 3)
# creating dataset that contains all the mean values each variable
# using pivot_longer to put the column names into one column and all the means into another
df2 <- df %>%
filter(length >= 0.5) %>%
group_by(sex) %>%
summarise(mean_length = mean(length),
mean_diameter = mean(diameter),
mean_height = mean(height),
mean_whole_weight = mean(whole_weight),
mean_shucked_weight = mean(shucked_weight),
mean_viscera_weight = mean(viscera_weight),
mean_shell_weight = mean(shell_weight),
mean_rings = mean(rings)) %>%
pivot_longer(!sex,
names_to = 'Vars',
values_to = 'Means')
# plot the new dataset, facet wrapping by sex and stacking the bar charts vertically
df2 %>%
ggplot() +
geom_bar(aes(x = Means, y = Vars, fill = sex), stat = 'identity') +
facet_wrap(vars(sex), dir = 'v') +
ylab("Variables")
# adding new temp variable that uses if statements to assign new value based on current column
# summarize the total weight of each abalone
df %>%
mutate(num_rings = ifelse(rings>20, 'high', ifelse(rings<10, 'low', 'med'))) %>%
group_by(num_rings, sex) %>%
summarise(avg_weight = mean(whole_weight + shucked_weight + viscera_weight + shell_weight)) %>%
ggplot() +
geom_tile(aes(x = num_rings, y = sex, fill = avg_weight)) +
xlab("Number of rings") +
labs(fill = 'Average Weight') +
ggtitle('Number of Rings vs Sex')
# selecting all columns in table except for the sex column
df2 <- df %>%
select(length, diameter, height, whole_weight, shucked_weight, viscera_weight, shell_weight, rings)
# getting all the correlation values for each pair of quantitative variables & displaying that table
data.cor <- round(cor(df2),2)
data.cor
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex) + ggtitle(.y) + ylab(' '))
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex) + ggtitle(.y) + ylab(' '))
# using cowplot and plot_grid to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex) + ggtitle(.y) + ylab(' '))
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex) + ggtitle(.y) + ylab(' ')))
# creating 2 new datasets that will be used for the map2() function
dfrings <- df %>%
select(rings)
dfquant <- df %>%
select(!sex)
# specifying the 2 datasets that are to be plotted against each other
# giving the ggplot/geom_point to indicate that we want rings to be plotted agaisnt all the variable in the other dataset
plot <- map2(dfquant, dfrings, ~ggplot(df) + geom_point(aes(x = rings, y=.x, color=sex)))
# using cowplot::plot_grid() to make the grid of plots
cowplot::plot_grid(plotlist = plot, labels = colnames(dfquant), ncol = 3)
x <- df$diameter
y <- df$height
model <- lm(y ~ x, df)
summary(model)
x <- df$diameter
y <- df$height
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey')
lines(x, fitted(lm(y ~x), col = 'red'))
new_diameters <- c(
0.15218946,
0.48361548,
0.58095513,
0.07603687,
0.50234599,
0.83462092,
0.95681938,
0.92906875,
0.94245437,
0.01209518
)
new_x <- data.frame(x = new_diameters)
new_height <- predict(model, new_x)
plot(x, y, xlab = 'diameter', ylab = 'height', pch=20, main = 'Abalone ring diameter vs height', col = 'grey', xlim = c(0,1))
lines(x, fitted(lm(y~x), color = 'red'))
points(new_diameters %>% unlist(), new_height, col = 'violet', pch = 19)
sessionInfo()
